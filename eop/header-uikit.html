<!-- Bootstrap TO BE REMOVED -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/EOPAtCal/css@v0.3/bootstrap-iso.css">
<!-- font awesome -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<!-- uikit -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/EOPAtCal/uikit-custom-css@v0.3/uikit-iso.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.40/js/uikit-icons.min.js"></script>
<script type="text/javascript">
    const runSearch = () => {
        const keyword = $("#searchInput").val();
        const newHref = window.location.origin + "/search?q=" + keyword;
        window.location.replace(newHref);
    }

    const searchBar = `
    <div class="uikit-iso">
        <form class="uk-search uk-search-default">
            <a href="javascript:runSearch();" class="uk-search-icon-flip" uk-search-icon></a>
            <input id="searchInput" class="uk-search-input" type="search" placeholder="Search...">
        </form>
    </div>
    `

    $(() => {
        $("#logo").after(searchBar);
        $(".uikit-iso .uk-search").submit((e) => e.preventDefault())
        $(".uikit-iso input#searchInput").keyup((e) => {
            if (e.keyCode === 13) {
                runSearch();
            }
        });
    })
</script>

<style type="text/css">
    .uikit-iso {
        float: right;
        margin-top: 20px;
        margin-bottom: 20px;
    }
    
    .uikit-iso .uk-search .uk-search-icon,
    .uikit-iso>.uk-search>input#searchInput,
    .uikit-iso>.uk-search>input#searchInput::placeholder {
        color: #fff
    }
    /*Changes EOP Logo Size*/
    /*color of header, reset 13px theme padding-bottom*/
    
    .header-display-center-stacked #site {
        padding-top: 0px;
    }
    
    #header {
        background-color: #003262;
        padding-bottom: 10px;
    }
    /*the image fills the entire #logo box*/
    
    .logo-image #header #logo img {
        width: 100%;
        height: inherit;
    }
    /*300px width for that logo, vertical-align with single line navbar*/
    
    #logo {
        width: 300px;
        max-width: 100%;
        display: inline-block;
    }
    /*when two line navbar, this line height creates vertical space*/
    
    #header .primary-nav .nav .folder-wrapper .show-folder {
        line-height: 40px;
    }
    /*Resets padding-top from 13px of original theme*/
    
    .header-display-center-stacked #header .primary-nav .nav {
        padding-top: 0px;
    }
    /*shifts the dropdown menus of the nav down*/
    
    .header-display-center-stacked #header .primary-nav .nav .folder-wrapper .folder {
        top: 40px;
    }
    /*entire navbar inline block with logo so they get next to each other*/
    
    .primary-nav.clear {
        display: inline-block;
        vertical-align: middle;
    }
    /*resets weird line height of template for navbar*/
    
    .header-display-center-stacked #header .primary-nav {
        line-height: initial;
    }
    /*folder link color is white*/
    
    .folder a span {
        /*color: #FFF;*/
    }
    /*folder link color is inherited (orange) when hovered*/
    
    .folder a span:hover {
        color: inherit;
        cursor: pointer;
    }
    /*hide the bottom nav bar when the mobile one pops up*/
    
    @media (max-width: 640px) {
        .primary-nav.clear {
            display: none;
        }
    }
    /*Changes "Menu" in navbar to "Site Navigation Menu"*/
    
    .mobile-nav .show-nav:before {
        content: "Menu";
    }
</style>